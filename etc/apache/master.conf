SSLEngine on
SSLProtocol all -SSLv2

SSLCertificateFile    /opt/tsadmdev/webapp/etc/certs/tsadm.local.pem
SSLCertificateKeyFile /opt/tsadmdev/webapp/etc/certs/tsadm.local.pem

SSLCACertificateFile  /opt/tsadmdev/webapp/etc/certs/tsadmca.pem
SSLCARevocationFile   /opt/tsadmdev/webapp/etc/certs/tsadmca-crl.pem

SSLVerifyClient require
SSLOptions +ExportCertData
SSLVerifyDepth 1

DocumentRoot /opt/tsadmdev/webapp

<Directory /opt/tsadmdev/webapp/static>
    AllowOverride None
    Require all granted
    DirectoryIndex /
</Directory>

Alias /robots.txt /opt/tsadmdev/webapp/static/robots.txt
Alias /favicon.ico /opt/tsadmdev/webapp/static/favicon.png
Alias /static/ /opt/tsadmdev/webapp/static/
Alias /server-graphs/ /srv/munin/www/

<Location />
    SetHandler uwsgi-handler
    uWSGISocket /run/uwsgi/app/tsadmtest/socket
    uWSGIForceWSGIScheme https
    uWSGIForceCGIMode off
    SetEnv TSADM_MODE test
</Location>

<Location /static>
    SetHandler none
</Location>
<LocationMatch "/(robots.txt|favicon.ico)">
    SetHandler none
</LocationMatch>
